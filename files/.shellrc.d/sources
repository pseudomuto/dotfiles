if which gpg-agent >/dev/null; then
  if test -f ~/.gnupg/.gpg-agent-info -a -n "$(pgrep gpg-agent)"; then
    source ~/.gnupg/.gpg-agent-info
    export GPG_AGENT_INFO
  fi
fi

if [ -f ~/.fzf.bash ]; then
  if [ -n "${ZSH_VERSION}" ]; then
    source ~/.fzf.zsh
  else
    source ~/.fzf.bash
  fi
fi

# gcloud
curr_shell="bash"
if [ -n "${ZSH_VERSION}" ]; then curr_shell="zsh"; fi
if [ -d /snap ]; then
  source "/snap/google-cloud-sdk/current/path.${curr_shell}.inc"
  source "/snap/google-cloud-sdk/current/completion.${curr_shell}.inc"
else
  source "${BREW_PREFIX}/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/path.${curr_shell}.inc"
  source "${BREW_PREFIX}/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/completion.${curr_shell}.inc"
fi

# k8s workflow
[ -f ${BREW_PREFIX}/share/kube-ps1.sh ] && source ${BREW_PREFIX}/share/kube-ps1.sh
for file in ~/.shellrc.d/completions/*.bash; do source ${file}; done
